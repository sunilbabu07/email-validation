
import re
import json

regex_email = '^[a-z0-9]+[\._]?[a-z0-9]+[@]\w+[.]\w{2,3}$'  
regex_password = re.compile(r'^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{5,}$')

def check(email):
  if re.fullmatch(regex_email, email):
    return True
  else:
    return False

def check_1(password):
  if len(password) < 16 and len(password) > 5 and re.fullmatch(regex_password, password):
    return True
  else:
    return False

def signup(user):
    print("\nSign up\n")
    email = input("email id: ")
    if check(email):
        password = input("password: ")
        if check_1(password):
            user[email] = password
            writeuser(user)
            print("\n User Registered Successfully, Welcome \n")
            return True
                                   
        else:
            print("\n Invalid password, Please try again \n")
    else:
        print(" \n Invalid username, Please try again \n")
